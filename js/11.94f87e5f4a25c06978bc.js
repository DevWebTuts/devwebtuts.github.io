webpackJsonp([11],{683:function(t,e,r){var n=r(362)(r(702),r(752),null,null,null);t.exports=n.exports},702:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(136),a=r.n(n),s=r(135),o=r.n(s);e.default={name:"comments",inject:["auth"],props:["comments","article","loading"],data:function(){return{body:""}},methods:{createComment:function(){function t(){return e.apply(this,arguments)}var e=o()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.auth.currentUser&&this.body&&this.article){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.$apollo.mutate({mutation:this.$gql.mutations.createComment,variables:{body:this.body,userId:this.auth.currentUser.id,articleId:this.article}});case 4:this.body="";case 5:case"end":return t.stop()}},t,this)}));return t}()}}},752:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.auth.currentUser?r("q-toolbar",[r("img",{staticClass:"avatar",attrs:{src:t.auth.currentUser.image}}),r("q-toolbar-title",[r("div",{staticClass:"headline"},[t._v(t._s(t.auth.currentUser.firstName)+" "+t._s(t.auth.currentUser.lastName))]),r("span",{slot:"subtitle"},[t._v("Comments ("+t._s(t.comments.length)+")")])]),r("q-btn",{attrs:{color:"white",icon:"send",outline:"outline",small:"small",round:"round"},on:{click:t.createComment}})],1):t._e(),t.auth.currentUser?r("q-field",{attrs:{icon:"edit"}},[r("q-input",{attrs:{type:"textarea","float-label":"Write a Comment"},model:{value:t.body,callback:function(e){t.body=e},expression:"body"}})],1):r("q-btn",{staticClass:"full-width",attrs:{color:"primary"},on:{click:function(e){t.$root.login()}}},[t._v("Login")]),t._l(t.comments,function(t,e){return r("comment",{key:e,attrs:{comment:t}})})],2)},staticRenderFns:[]}}});
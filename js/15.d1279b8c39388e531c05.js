webpackJsonp([15],{675:function(t,e,r){var a=r(362)(r(694),r(757),null,null,null);t.exports=a.exports},694:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(136),s=r.n(a),n=r(135),c=r.n(n);e.default={name:"all-articles",data:function(){return{scrolled:!1,loading:0,limit:16,offset:1,search:""}},computed:{loadedItems:function(){return this.limit*this.offset},canViewMore:function(){return!!this.count&&this.loadedItems<this.count.count}},apollo:{count:function(){return{query:this.$gql.queries.articlesCount,fetchPolicy:"cache-and-network",loadingKey:"loading",variables:function(){return{search:this.search}}}},articles:function(){return{query:this.$gql.queries.articles,fetchPolicy:"cache-and-network",loadingKey:"loading",variables:function(){return{search:this.search,first:16}}}}},methods:{loadMore:function(){function t(t,r){return e.apply(this,arguments)}var e=c()(s.a.mark(function t(e,r){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.canViewMore){t.next=3;break}return t.abrupt("return");case 3:return this.offset++,t.next=6,this.$apollo.queries.articles.fetchMore({variables:{search:this.search,first:this.loadedItems},updateQuery:function(t,e){return{articles:e.fetchMoreResult.articles}}});case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:return t.prev=10,r(),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,8,10,13]])}));return t}()}}},757:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"vh-100-min"},[r("q-toolbar",{staticClass:"accent",attrs:{flat:"flat",dark:"dark"}},[r("q-toolbar-title",{staticClass:"gt-xs"},[t._v("Articles ("+t._s(t.count?t.count.count:0)+")")]),r("q-search",{staticClass:"gt-xs",attrs:{icon:"search",dark:"dark",inverted:"inverted"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),r("div",{staticClass:"col xs"},[r("q-toolbar-title",{staticClass:"text-center",staticStyle:{padding:"24px"}},[t._v("Articles ("+t._s(t.count?t.count.count:0)+")")]),r("q-search",{attrs:{icon:"search",dark:"dark",inverted:"inverted"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),r("articles",{attrs:{articles:t.articles,loading:1===t.offset&&t.loading}}),t.offset>1&&t.loading?r("q-progress",{attrs:{indeterminate:"indeterminate",color:"secondary"}}):t._e(),r("div",{staticClass:"text-center",staticStyle:{"margin-bottom":"16px"}},[t.canViewMore?r("q-btn",{staticStyle:{width:"200px"},attrs:{color:"primary",loader:"loader"},on:{click:t.loadMore}},[t._v("View More")]):t._e()],1)],1)},staticRenderFns:[]}}});